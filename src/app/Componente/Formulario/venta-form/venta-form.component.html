<div class="ventas-container">
  <h2>Registro de Venta</h2>

  <form>
    <!-- Cliente -->
    <label for="cliente">Cliente:</label>
    <select id="cliente" required>
      <option value="" disabled selected>Seleccione un cliente</option>
      <option *ngFor="let cliente of clientes" [value]="cliente.id_cliente">
        {{ cliente.nombre }}
      </option>
    </select>

    <!-- Fecha de Venta -->
    <label for="fecha">Fecha de Venta:</label>
    <input type="date" id="fecha" required>

    <!-- Búsqueda de Ganado por ID -->
    <h3>Buscar Ganado</h3>
    <div class="busqueda-ganado">
      <label for="idGanado">ID del Ganado:</label>
      <input type="number" id="idGanado" placeholder="Ingrese ID del ganado">
      <button type="button" class="buscar">Buscar</button>
    </div>

    <!-- Datos del ganado seleccionado -->
    <div class="detalle-ganado" *ngIf="ganadoSeleccionado">
      <p><strong>Código Único:</strong> {{ ganadoSeleccionado.codigo_unico }}</p>
      <p><strong>Peso:</strong> {{ ganadoSeleccionado.peso }} kg</p>
    </div>

    <!-- Agregar a la venta -->
    <h3>Agregar Ganado a la Venta</h3>
    <div class="seleccion-ganado">
      <label for="peso">Peso (Kg):</label>
      <input type="number" id="peso" [value]="ganadoSeleccionado?.peso" disabled>

      <label for="precio">Precio x Kilo:</label>
      <input type="number" id="precio">

      <button type="button" class="agregar">Añadir Ganado</button>
    </div>

    <!-- Tabla de Ganados Agregados -->
    <h3>Ganados Agregados</h3>
    <table>
      <thead>
        <tr>
          <th>Ganado</th>
          <th>Peso (Kg)</th>
          <th>Precio x Kg</th>
          <th>Subtotal</th>
          <th>Acción</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let detalle of detalles; let i = index">
          <td>{{ detalle.ganado.codigo_unico }}</td>
          <td>{{ detalle.peso }}</td>
          <td>{{ detalle.precio_x_kilo }}</td>
          <td>{{ detalle.subtotal }}</td>
          <td><button type="button" class="eliminar">Eliminar</button></td>
        </tr>
      </tbody>
    </table>

    <!-- Total -->
    <h3>Total: 0.00</h3>

    <button type="submit">Registrar Venta</button>
  </form>
</div>
